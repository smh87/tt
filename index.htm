<!DOCTYPE html>
<html>
  <head>
    <title>Torus Trooper</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1, user-scalable=no" />
    <meta name="theme-color" content="black" />
    <meta name="description" content="Game where you shoot enemies while flying inside an infinite tunnel" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://torustrooper.xyz/" />
    <meta property="og:title" content="Torus Trooper" />
    <meta property="og:description" content="Game where you shoot enemies while flying inside an infinite tunnel" />
    <meta property="og:image" content="https://torustrooper.xyz/tt.jpg" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://torustrooper.xyz/" />
    <meta property="twitter:title" content="Torus Trooper" />
    <meta property="twitter:description" content="Game where you shoot enemies while flying inside an infinite tunnel" />
    <meta property="twitter:image" content="https://torustrooper.xyz/tt.jpg" />
    <meta property="github:sha" content="GITHUB_SHA" />
    <link rel="manifest" href="/manifest.json"/>
    <link rel="apple-touch-icon" href="/icon-192x192.png">
    <style>
      * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      body, html { margin:0px; background-color:#202020; touch-action:none; overflow:hidden; }
      #screen { position:absolute; top:0px; left:0px; }
      #loading { position:absolute; top:0px; left:0px; width:100%; height:100%; }
      #ui { position:absolute; top:0px; left:0px; width:100%; height:100%; }
      .svg-bg { stroke:#ffffff; stroke-opacity:1; fill:#ffffff; fill-opacity:0.3; stroke-width:1px; }
      .svg-loading { stroke:#ffffff; stroke-opacity:1; fill:#ffffff; fill-opacity:0.5; stroke-width:1px; animation: blink 0.2s infinite; }
      .svg-progress-bg { stroke:#ffffff; stroke-opacity:1; fill:#ffffff; fill-opacity:0.5; }
      .svg-progress-bar { fill: #ffffff; }
      .svg-start { stroke:#e5b27f; stroke-opacity:1; fill:#e5b27f; fill-opacity:0.5; stroke-width:1px; animation: blink 0.6s infinite; }
      .svg-title { stroke:#e5b27f; stroke-opacity:1; fill:#e5b27f; fill-opacity:0.5; stroke-width:1px; }
      .text { font-family:'Courier New',Courier,monospace; font-size:10px; color:white; }
      .text-small, .text-small a { font-family:'Courier New',Courier,monospace; font-size:6px; color:#777777; }
      .controls { stroke:#ffffff; stroke-opacity:1; fill:#ffffff; fill-opacity:0.1; stroke-width:1px; }
      @keyframes blink { 100%, 0% { fill-opacity:0.5; } 60% { fill-opacity:0; } }
    </style>
  </head>
  <body>
    <canvas id="screen"></canvas>
    <div id="loading">
      <svg viewBox="0 0 640 480" width="100%" height="100%">
        <rect fill="#000" x="0" y="0" width="640" height="480" />
        <path class="svg-title" d="
          M 437.36 373.69 L 438.90 371.80 L 445.06 371.80 L 446.60 373.69 L 445.06 375.58 L 438.90 375.58 Z
          M 449.36 373.69 L 450.90 371.80 L 457.06 371.80 L 458.60 373.69 L 457.06 375.58 L 450.90 375.58 Z
          M 448.34 374.71 L 450.23 376.53 L 450.23 383.81 L 448.34 385.63 L 446.45 383.81 L 446.45 376.53 Z
          M 448.34 386.59 L 450.23 388.41 L 450.23 395.69 L 448.34 397.51 L 446.45 395.69 L 446.45 388.41 Z
          M 466.88 373.69 L 468.70 371.80 L 475.98 371.80 L 477.80 373.69 L 475.98 375.58 L 468.70 375.58 Z
          M 464.54 374.71 L 466.43 376.53 L 466.43 383.81 L 464.54 385.63 L 462.65 383.81 L 462.65 376.53 Z
          M 480.14 374.71 L 482.03 376.53 L 482.03 383.81 L 480.14 385.63 L 478.25 383.81 L 478.25 376.53 Z
          M 464.54 386.59 L 466.43 388.41 L 466.43 395.69 L 464.54 397.51 L 462.65 395.69 L 462.65 388.41 Z
          M 480.14 386.59 L 482.03 388.41 L 482.03 395.69 L 480.14 397.51 L 478.25 395.69 L 478.25 388.41 Z
          M 466.88 398.53 L 468.70 396.64 L 475.98 396.64 L 477.80 398.53 L 475.98 400.42 L 468.70 400.42 Z
          M 492.08 373.69 L 493.90 371.80 L 501.18 371.80 L 503.00 373.69 L 501.18 375.58 L 493.90 375.58 Z
          M 489.74 374.71 L 491.63 376.53 L 491.63 383.81 L 489.74 385.63 L 487.85 383.81 L 487.85 376.53 Z
          M 505.34 374.71 L 507.23 376.53 L 507.23 383.81 L 505.34 385.63 L 503.45 383.81 L 503.45 376.53 Z
          M 493.04 386.11 L 494.30 384.22 L 499.34 384.22 L 500.60 386.11 L 499.34 388.00 L 494.30 388.00 Z
          M 489.74 386.59 L 491.63 388.41 L 491.63 395.69 L 489.74 397.51 L 487.85 395.69 L 487.85 388.41 Z
          M 501.99 386.67 L 504.17 388.14 L 505.43 395.31 L 503.89 397.43 L 501.71 395.96 L 500.45 388.79 Z
          M 514.94 374.71 L 516.83 376.53 L 516.83 383.81 L 514.94 385.63 L 513.05 383.81 L 513.05 376.53 Z
          M 530.54 374.71 L 532.43 376.53 L 532.43 383.81 L 530.54 385.63 L 528.65 383.81 L 528.65 376.53 Z
          M 514.94 386.59 L 516.83 388.41 L 516.83 395.69 L 514.94 397.51 L 513.05 395.69 L 513.05 388.41 Z
          M 530.54 386.59 L 532.43 388.41 L 532.43 395.69 L 530.54 397.51 L 528.65 395.69 L 528.65 388.41 Z
          M 517.28 398.53 L 519.10 396.64 L 526.38 396.64 L 528.20 398.53 L 526.38 400.42 L 519.10 400.42 Z
          M 542.48 373.69 L 544.30 371.80 L 551.58 371.80 L 553.40 373.69 L 551.58 375.58 L 544.30 375.58 Z
          M 540.14 374.71 L 542.03 376.53 L 542.03 383.81 L 540.14 385.63 L 538.25 383.81 L 538.25 376.53 Z
          M 542.48 386.11 L 544.30 384.22 L 551.58 384.22 L 553.40 386.11 L 551.58 388.00 L 544.30 388.00 Z
          M 555.74 386.59 L 557.63 388.41 L 557.63 395.69 L 555.74 397.51 L 553.85 395.69 L 553.85 388.41 Z
          M 542.48 398.53 L 544.30 396.64 L 551.58 396.64 L 553.40 398.53 L 551.58 400.42 L 544.30 400.42 Z
          M 437.36 413.69 L 438.90 411.80 L 445.06 411.80 L 446.60 413.69 L 445.06 415.58 L 438.90 415.58 Z
          M 449.36 413.69 L 450.90 411.80 L 457.06 411.80 L 458.60 413.69 L 457.06 415.58 L 450.90 415.58 Z
          M 448.34 414.71 L 450.23 416.53 L 450.23 423.81 L 448.34 425.63 L 446.45 423.81 L 446.45 416.53 Z
          M 448.34 426.59 L 450.23 428.41 L 450.23 435.69 L 448.34 437.51 L 446.45 435.69 L 446.45 428.41 Z
          M 466.88 413.69 L 468.70 411.80 L 475.98 411.80 L 477.80 413.69 L 475.98 415.58 L 468.70 415.58 Z
          M 464.54 414.71 L 466.43 416.53 L 466.43 423.81 L 464.54 425.63 L 462.65 423.81 L 462.65 416.53 Z
          M 480.14 414.71 L 482.03 416.53 L 482.03 423.81 L 480.14 425.63 L 478.25 423.81 L 478.25 416.53 Z
          M 467.84 426.11 L 469.10 424.22 L 474.14 424.22 L 475.40 426.11 L 474.14 428.00 L 469.10 428.00 Z
          M 464.54 426.59 L 466.43 428.41 L 466.43 435.69 L 464.54 437.51 L 462.65 435.69 L 462.65 428.41 Z
          M 476.79 426.67 L 478.97 428.14 L 480.23 435.31 L 478.69 437.43 L 476.51 435.96 L 475.25 428.79 Z
          M 492.08 413.69 L 493.90 411.80 L 501.18 411.80 L 503.00 413.69 L 501.18 415.58 L 493.90 415.58 Z
          M 489.74 414.71 L 491.63 416.53 L 491.63 423.81 L 489.74 425.63 L 487.85 423.81 L 487.85 416.53 Z
          M 505.34 414.71 L 507.23 416.53 L 507.23 423.81 L 505.34 425.63 L 503.45 423.81 L 503.45 416.53 Z
          M 489.74 426.59 L 491.63 428.41 L 491.63 435.69 L 489.74 437.51 L 487.85 435.69 L 487.85 428.41 Z
          M 505.34 426.59 L 507.23 428.41 L 507.23 435.69 L 505.34 437.51 L 503.45 435.69 L 503.45 428.41 Z
          M 492.08 438.53 L 493.90 436.64 L 501.18 436.64 L 503.00 438.53 L 501.18 440.42 L 493.90 440.42 Z
          M 517.28 413.69 L 519.10 411.80 L 526.38 411.80 L 528.20 413.69 L 526.38 415.58 L 519.10 415.58 Z
          M 514.94 414.71 L 516.83 416.53 L 516.83 423.81 L 514.94 425.63 L 513.05 423.81 L 513.05 416.53 Z
          M 530.54 414.71 L 532.43 416.53 L 532.43 423.81 L 530.54 425.63 L 528.65 423.81 L 528.65 416.53 Z
          M 514.94 426.59 L 516.83 428.41 L 516.83 435.69 L 514.94 437.51 L 513.05 435.69 L 513.05 428.41 Z
          M 530.54 426.59 L 532.43 428.41 L 532.43 435.69 L 530.54 437.51 L 528.65 435.69 L 528.65 428.41 Z
          M 517.28 438.53 L 519.10 436.64 L 526.38 436.64 L 528.20 438.53 L 526.38 440.42 L 519.10 440.42 Z
          M 542.48 413.69 L 544.30 411.80 L 551.58 411.80 L 553.40 413.69 L 551.58 415.58 L 544.30 415.58 Z
          M 540.14 414.71 L 542.03 416.53 L 542.03 423.81 L 540.14 425.63 L 538.25 423.81 L 538.25 416.53 Z
          M 555.74 414.71 L 557.63 416.53 L 557.63 423.81 L 555.74 425.63 L 553.85 423.81 L 553.85 416.53 Z
          M 542.48 426.11 L 544.30 424.22 L 551.58 424.22 L 553.40 426.11 L 551.58 428.00 L 544.30 428.00 Z
          M 540.14 426.59 L 542.03 428.41 L 542.03 435.69 L 540.14 437.51 L 538.25 435.69 L 538.25 428.41 Z
          M 567.68 413.69 L 569.50 411.80 L 576.78 411.80 L 578.60 413.69 L 576.78 415.58 L 569.50 415.58 Z
          M 565.34 414.71 L 567.23 416.53 L 567.23 423.81 L 565.34 425.63 L 563.45 423.81 L 563.45 416.53 Z
          M 567.68 426.11 L 569.50 424.22 L 576.78 424.22 L 578.60 426.11 L 576.78 428.00 L 569.50 428.00 Z
          M 565.34 426.59 L 567.23 428.41 L 567.23 435.69 L 565.34 437.51 L 563.45 435.69 L 563.45 428.41 Z
          M 567.68 438.53 L 569.50 436.64 L 576.78 436.64 L 578.60 438.53 L 576.78 440.42 L 569.50 440.42 Z
          M 592.88 413.69 L 594.70 411.80 L 601.98 411.80 L 603.80 413.69 L 601.98 415.58 L 594.70 415.58 Z
          M 590.54 414.71 L 592.43 416.53 L 592.43 423.81 L 590.54 425.63 L 588.65 423.81 L 588.65 416.53 Z
          M 606.14 414.71 L 608.03 416.53 L 608.03 423.81 L 606.14 425.63 L 604.25 423.81 L 604.25 416.53 Z
          M 593.84 426.11 L 595.10 424.22 L 600.14 424.22 L 601.40 426.11 L 600.14 428.00 L 595.10 428.00 Z
          M 590.54 426.59 L 592.43 428.41 L 592.43 435.69 L 590.54 437.51 L 588.65 435.69 L 588.65 428.41 Z
          M 602.79 426.67 L 604.97 428.14 L 606.23 435.31 L 604.69 437.43 L 602.51 435.96 L 601.25 428.79 Z" />
        <g transform="translate(-77.68 -12.85)" visibility="hidden" id="txtLoading">
          <rect class="svg-progress-bg" x="316.45" y="275.42" width="172.7" height="10" />
          <g transform="translate(316.45,275.42)"><g id="progress" transform="scale(0,1)"><rect class="svg-progress-bar" x="0" y="0" width="172.7" height="10" /></g></g>
          <path class="svg-loading" d="
            M 319.34 244.71 L 321.23 246.53 L 321.23 253.81 L 319.34 255.63 L 317.45 253.81 L 317.45 246.53 Z
            M 319.34 256.59 L 321.23 258.41 L 321.23 265.69 L 319.34 267.51 L 317.45 265.69 L 317.45 258.41 Z
            M 321.68 268.53 L 323.50 266.64 L 330.78 266.64 L 332.60 268.53 L 330.78 270.42 L 323.50 270.42 Z
            M 346.88 243.69 L 348.70 241.80 L 355.98 241.80 L 357.80 243.69 L 355.98 245.58 L 348.70 245.58 Z
            M 344.54 244.71 L 346.43 246.53 L 346.43 253.81 L 344.54 255.63 L 342.65 253.81 L 342.65 246.53 Z
            M 360.14 244.71 L 362.03 246.53 L 362.03 253.81 L 360.14 255.63 L 358.25 253.81 L 358.25 246.53 Z
            M 344.54 256.59 L 346.43 258.41 L 346.43 265.69 L 344.54 267.51 L 342.65 265.69 L 342.65 258.41 Z
            M 360.14 256.59 L 362.03 258.41 L 362.03 265.69 L 360.14 267.51 L 358.25 265.69 L 358.25 258.41 Z
            M 346.88 268.53 L 348.70 266.64 L 355.98 266.64 L 357.80 268.53 L 355.98 270.42 L 348.70 270.42 Z
            M 372.08 243.69 L 373.90 241.80 L 381.18 241.80 L 383.00 243.69 L 381.18 245.58 L 373.90 245.58 Z
            M 369.74 244.71 L 371.63 246.53 L 371.63 253.81 L 369.74 255.63 L 367.85 253.81 L 367.85 246.53 Z
            M 385.34 244.71 L 387.23 246.53 L 387.23 253.81 L 385.34 255.63 L 383.45 253.81 L 383.45 246.53 Z
            M 372.08 256.11 L 373.90 254.22 L 381.18 254.22 L 383.00 256.11 L 381.18 258.00 L 373.90 258.00 Z
            M 369.74 256.59 L 371.63 258.41 L 371.63 265.69 L 369.74 267.51 L 367.85 265.69 L 367.85 258.41 Z
            M 385.34 256.59 L 387.23 258.41 L 387.23 265.69 L 385.34 267.51 L 383.45 265.69 L 383.45 258.41 Z
            M 398.84 243.69 L 400.10 241.80 L 405.14 241.80 L 406.40 243.69 L 405.14 245.58 L 400.10 245.58 Z
            M 394.94 244.71 L 396.83 246.53 L 396.83 253.81 L 394.94 255.63 L 393.05 253.81 L 393.05 246.53 Z
            M 408.14 245.79 L 410.03 247.61 L 410.03 254.89 L 408.14 256.71 L 406.25 254.89 L 406.25 247.61 Z
            M 394.94 256.59 L 396.83 258.41 L 396.83 265.69 L 394.94 267.51 L 393.05 265.69 L 393.05 258.41 Z
            M 410.54 256.59 L 412.43 258.41 L 412.43 265.69 L 410.54 267.51 L 408.65 265.69 L 408.65 258.41 Z
            M 397.28 268.53 L 399.10 266.64 L 406.38 266.64 L 408.20 268.53 L 406.38 270.42 L 399.10 270.42 Z
            M 427.94 244.71 L 429.83 246.53 L 429.83 253.81 L 427.94 255.63 L 426.05 253.81 L 426.05 246.53 Z
            M 427.94 256.59 L 429.83 258.41 L 429.83 265.69 L 427.94 267.51 L 426.05 265.69 L 426.05 258.41 Z
            M 447.68 243.69 L 449.50 241.80 L 456.78 241.80 L 458.60 243.69 L 456.78 245.58 L 449.50 245.58 Z
            M 445.34 244.71 L 447.23 246.53 L 447.23 253.81 L 445.34 255.63 L 443.45 253.81 L 443.45 246.53 Z
            M 460.94 244.71 L 462.83 246.53 L 462.83 253.81 L 460.94 255.63 L 459.05 253.81 L 459.05 246.53 Z
            M 445.34 256.59 L 447.23 258.41 L 447.23 265.69 L 445.34 267.51 L 443.45 265.69 L 443.45 258.41 Z
            M 460.94 256.59 L 462.83 258.41 L 462.83 265.69 L 460.94 267.51 L 459.05 265.69 L 459.05 258.41 Z
            M 472.88 243.69 L 474.70 241.80 L 481.98 241.80 L 483.80 243.69 L 481.98 245.58 L 474.70 245.58 Z
            M 470.54 244.71 L 472.43 246.53 L 472.43 253.81 L 470.54 255.63 L 468.65 253.81 L 468.65 246.53 Z
            M 479.36 256.11 L 480.20 254.22 L 483.56 254.22 L 484.40 256.11 L 483.56 258.00 L 480.20 258.00 Z
            M 470.54 256.59 L 472.43 258.41 L 472.43 265.69 L 470.54 267.51 L 468.65 265.69 L 468.65 258.41 Z
            M 486.14 256.59 L 488.03 258.41 L 488.03 265.69 L 486.14 267.51 L 484.25 265.69 L 484.25 258.41 Z
            M 472.88 268.53 L 474.70 266.64 L 481.98 266.64 L 483.80 268.53 L 481.98 270.42 L 474.70 270.42 Z" />
        </g>
        <g transform="translate(-52.79 -12.85)" visibility="hidden" id="txtStart">
          <path class="svg-start" d="
            M 321.68 243.69 L 323.50 241.80 L 330.78 241.80 L 332.60 243.69 L 330.78 245.58 L 323.50 245.58 Z
            M 319.34 244.71 L 321.23 246.53 L 321.23 253.81 L 319.34 255.63 L 317.45 253.81 L 317.45 246.53 Z
            M 321.68 256.11 L 323.50 254.22 L 330.78 254.22 L 332.60 256.11 L 330.78 258.00 L 323.50 258.00 Z
            M 334.94 256.59 L 336.83 258.41 L 336.83 265.69 L 334.94 267.51 L 333.05 265.69 L 333.05 258.41 Z
            M 321.68 268.53 L 323.50 266.64 L 330.78 266.64 L 332.60 268.53 L 330.78 270.42 L 323.50 270.42 Z
            M 342.56 243.69 L 344.10 241.80 L 350.26 241.80 L 351.80 243.69 L 350.26 245.58 L 344.10 245.58 Z
            M 354.56 243.69 L 356.10 241.80 L 362.26 241.80 L 363.80 243.69 L 362.26 245.58 L 356.10 245.58 Z
            M 353.54 244.71 L 355.43 246.53 L 355.43 253.81 L 353.54 255.63 L 351.65 253.81 L 351.65 246.53 Z
            M 353.54 256.59 L 355.43 258.41 L 355.43 265.69 L 353.54 267.51 L 351.65 265.69 L 351.65 258.41 Z
            M 372.08 243.69 L 373.90 241.80 L 381.18 241.80 L 383.00 243.69 L 381.18 245.58 L 373.90 245.58 Z
            M 369.74 244.71 L 371.63 246.53 L 371.63 253.81 L 369.74 255.63 L 367.85 253.81 L 367.85 246.53 Z
            M 385.34 244.71 L 387.23 246.53 L 387.23 253.81 L 385.34 255.63 L 383.45 253.81 L 383.45 246.53 Z
            M 372.08 256.11 L 373.90 254.22 L 381.18 254.22 L 383.00 256.11 L 381.18 258.00 L 373.90 258.00 Z
            M 369.74 256.59 L 371.63 258.41 L 371.63 265.69 L 369.74 267.51 L 367.85 265.69 L 367.85 258.41 Z
            M 385.34 256.59 L 387.23 258.41 L 387.23 265.69 L 385.34 267.51 L 383.45 265.69 L 383.45 258.41 Z
            M 397.28 243.69 L 399.10 241.80 L 406.38 241.80 L 408.20 243.69 L 406.38 245.58 L 399.10 245.58 Z
            M 394.94 244.71 L 396.83 246.53 L 396.83 253.81 L 394.94 255.63 L 393.05 253.81 L 393.05 246.53 Z
            M 410.54 244.71 L 412.43 246.53 L 412.43 253.81 L 410.54 255.63 L 408.65 253.81 L 408.65 246.53 Z
            M 398.24 256.11 L 399.50 254.22 L 404.54 254.22 L 405.80 256.11 L 404.54 258.00 L 399.50 258.00 Z
            M 394.94 256.59 L 396.83 258.41 L 396.83 265.69 L 394.94 267.51 L 393.05 265.69 L 393.05 258.41 Z
            M 407.19 256.67 L 409.37 258.14 L 410.63 265.31 L 409.09 267.43 L 406.91 265.96 L 405.65 258.79 Z
            M 418.16 243.69 L 419.70 241.80 L 425.86 241.80 L 427.40 243.69 L 425.86 245.58 L 419.70 245.58 Z
            M 430.16 243.69 L 431.70 241.80 L 437.86 241.80 L 439.40 243.69 L 437.86 245.58 L 431.70 245.58 Z
            M 429.14 244.71 L 431.03 246.53 L 431.03 253.81 L 429.14 255.63 L 427.25 253.81 L 427.25 246.53 Z
            M 429.14 256.59 L 431.03 258.41 L 431.03 265.69 L 429.14 267.51 L 427.25 265.69 L 427.25 258.41 Z" />
        </g>
        <path class="svg-bg" d="
          M 529.89 460.14 L 535.76 457.92 L 541.57 455.56 L 547.30 453.07 L 552.93 450.44 L 558.46 447.70
          L 563.86 444.84 L 569.13 441.88 L 574.25 438.81 L 579.21 435.65 L 584.00 432.40 L 588.61 429.08
          L 593.02 425.68 L 597.23 422.23 L 601.23 418.72 L 604.99 415.16 L 608.53 411.57 L 611.82 407.95
          L 614.86 404.31 L 617.65 400.66 L 620.17 397.01 L 622.42 393.37 L 624.40 389.74 L 626.09 386.14
          L 627.50 382.57 L 628.62 379.04 L 629.46 375.56 L 629.99 372.15 L 630.24 368.80 L 630.19 365.52
          L 629.85 362.33 L 629.21 359.23 L 628.28 356.22 L 627.06 353.32 L 625.56 350.54 L 623.77 347.87
          L 621.70 345.33 L 619.36 342.92 L 616.75 340.65 L 613.88 338.52 L 610.75 336.54 L 607.37 334.71
          L 603.76 333.04 L 599.91 331.53 L 595.85 330.19 L 591.57 329.01 L 587.09 328.01 L 582.42 327.17
          L 577.57 326.52 L 572.56 326.04 L 567.38 325.74 L 562.07 325.62 L 556.62 325.67 L 551.06 325.91
          L 545.40 326.32 L 539.64 326.92 L 533.81 327.68 L 527.91 328.63 L 521.97 329.74 L 515.99 331.02
          L 510.00 332.47 L 504.00 334.09 L 498.01 335.86 L 492.04 337.78 L 486.11 339.86 L 480.24 342.08
          L 474.43 344.44 L 468.70 346.93 L 463.07 349.56 L 457.54 352.30 L 452.14 355.16 L 446.87 358.12
          L 441.75 361.19 L 436.79 364.35 L 432.00 367.60 L 427.39 370.92 L 422.98 374.32 L 418.77 377.77
          L 414.77 381.28 L 411.01 384.84 L 407.47 388.43 L 404.18 392.05 L 401.14 395.69 L 398.35 399.34
          L 395.83 402.99 L 393.58 406.63 L 391.60 410.26 L 389.91 413.86 L 388.50 417.43 L 387.38 420.96
          L 386.54 424.44 L 386.01 427.85 L 385.76 431.20 L 385.81 434.48 L 386.15 437.67 L 386.79 440.77
          L 387.72 443.78 L 388.94 446.68 L 390.44 449.46 L 392.23 452.13 L 394.30 454.67 L 396.64 457.08
          L 399.25 459.35 L 402.12 461.48 L 405.25 463.46 L 408.63 465.29 L 412.24 466.96 L 416.09 468.47
          L 420.15 469.81 L 424.43 470.99 L 428.91 471.99 L 433.58 472.83 L 438.43 473.48 L 443.44 473.96
          L 448.62 474.26 L 453.93 474.38 L 459.38 474.33 L 464.94 474.09 L 470.60 473.68 L 476.36 473.08
          L 482.19 472.32 L 488.09 471.37 L 494.03 470.26 L 500.01 468.98 L 506.00 467.53 L 512.00 465.91
          L 517.99 464.14 L 523.96 462.22 Z" />
        <foreignObject x="70" y="280" width="500" height="150">
          <div xmlns="http://www.w3.org/1999/xhtml" id="checks" class="text" style="text-align:center;">JavaScript disabled :(</div>
        </foreignObject>
        <foreignObject x="60" y="60" width="500" height="150" id="uiControlsKeyboard">
          <div xmlns="http://www.w3.org/1999/xhtml" class="text">
            <b>Keyboard controls</b><br/>
            X <i>main fire / start</i><br/>
            C <i>powered shot</i><br/>
            ARROW KEYS <i>move ship</i><br/>
            ESC <i>exit to menu</i><br/>
            P <i>pause</i><br/>
          </div>
        </foreignObject>
        <foreignObject width="150" height="50" transform="translate(50 425) rotate(-30)">
          <div xmlns="http://www.w3.org/1999/xhtml" class="text">Touch toggle</div>
        </foreignObject>
        <foreignObject width="150" height="50" transform="translate(10 425) rotate(-30)">
          <div xmlns="http://www.w3.org/1999/xhtml" class="text">Fullscreen toggle</div>
        </foreignObject>
      </svg>
    </div>
    <div id="ui">
      <svg viewBox="0 0 640 480" width="100%" height="100%">
        <foreignObject x="0" y="-6" width="600" height="60">
          <div xmlns="http://www.w3.org/1999/xhtml" class="text-small">
            <p>Copyright &copy; 2004 Kenta Cho, 2020 Remi Gillig - Sources, contribute, report issues: <a href="https://github.com/speps/tt">https://github.com/speps/tt</a></p>
          </div>
        </foreignObject>
        <defs>
          <path id="arrow" d="M -5.06531,-14.1079 9.0467,0.0041161 -5.06531,14.1161 Z" />
          <path id="wedge" style="fill:transparent;stroke:none;" d="M 18.47759 -7.65366 L 129.34313 -53.57568 A 140 140 0 0 1 129.34313 53.57568 L 18.47759 7.65366 Z" />
        </defs>
        <g id="uiFullscreen" class="controls" transform="translate(0 445)">
          <rect x="0" y="0" width="35" height="35" style="fill:transparent;stroke-opacity:0;" />
          <g transform="translate(2.73 2.728)">
            <path d="m28.36 19.595c0-.868-.665-1.57-1.491-1.57-.819.002-1.492.702-1.492 1.57v3.25l-6.02-6.02c-.582-.583-1.524-.583-2.106 0-.582.582-.582 1.527 0 2.109l5.989 5.987h-3.235c-.881.002-1.591.669-1.591 1.491 0 .824.71 1.49 1.591 1.49h6.761c.881 0 1.59-.665 1.593-1.49-.003-.022-.006-.039-.009-.061.003-.028.009-.058.009-.087v-6.668h-.0001"/><path d="m9 16.824l-6.01 6.02v-3.25c0-.868-.672-1.568-1.493-1.57-.824 0-1.49.702-1.49 1.57l-.002 6.669c0 .029.008.059.001.087-.002.021-.006.038-.008.061.002.825.712 1.49 1.592 1.49h6.762c.879 0 1.59-.666 1.59-1.49 0-.822-.711-1.489-1.59-1.491h-3.235l5.989-5.987c.58-.582.58-1.527 0-2.109-.583-.584-1.526-.584-2.11-.0001"/><path d="m19.359 11.535l6.02-6.02v3.25c0 .865.673 1.565 1.492 1.568.826 0 1.491-.703 1.491-1.568v-6.671c0-.029-.006-.059-.009-.085.003-.021.006-.041.009-.062-.003-.826-.712-1.491-1.592-1.491h-6.761c-.881 0-1.591.665-1.591 1.491 0 .821.71 1.49 1.591 1.492h3.235l-5.989 5.987c-.582.581-.582 1.524 0 2.105.582.586 1.524.586 2.106.0001"/><path d="m5.121 3.442h3.234c.879-.002 1.59-.671 1.59-1.492 0-.826-.711-1.491-1.59-1.491h-6.761c-.88 0-1.59.665-1.592 1.491.002.021.006.041.008.062-.002.026-.001.055-.001.085l.002 6.672c0 .865.666 1.568 1.49 1.568.821-.003 1.493-.703 1.493-1.568v-3.25l6.01 6.02c.584.585 1.527.585 2.11 0 .58-.581.58-1.524 0-2.105l-5.989-5.988"/>
          </g>
        </g>
        <g id="uiTouch" class="controls" transform="translate(35 445)">
          <rect x="0" y="0" width="35" height="35" style="fill:transparent;stroke-opacity:0;" />
          <g transform="translate(3 0)">
            <path d="M 6.90945,11.8317 6.69053,11.6949 C 5.58267,10.9907 4.7141,9.8553 4.31088,8.56959 4.09874,7.89245 4.05088,6.7028 4.2016,5.93673 4.41374,4.89744 4.84445,4.05602 5.56231,3.2903 6.99874,1.75816 9.02981,1.14959 11.1291,1.6353 c 1.86,0.42393 3.4054,1.81214 4.0211,3.61072 0.766,2.26357 -0.0343,4.77998 -1.9832,6.21608 l -0.4104,0.3011 M 10.5137,5.44423 c 0.3283,0.17107 0.5336,0.38964 0.67,0.71107 0.089,0.21893 0.1025,0.85464 0.1025,4.8075 0,5.0671 -0.0203,4.8689 0.4583,5.0671 0.4853,0.205 0.9164,-0.0889 1.0053,-0.6975 0.1847,-1.3607 1.8807,-1.7778 2.6739,-0.6564 0.205,0.2939 0.205,0.3079 0.2393,1.395 l 0.0343,1.0943 0.2257,0.1982 c 0.3282,0.2939 0.7661,0.2532 1.0532,-0.1025 0.0686,-0.0753 0.1233,-0.2189 0.1233,-0.3146 0.0067,-0.5332 0.3417,-1.0532 0.841,-1.3129 0.219,-0.1093 0.3693,-0.13 0.7386,-0.1093 0.5675,0.0275 0.9575,0.2668 1.2036,0.7318 0.1435,0.2736 0.1571,0.39 0.1571,1.2582 0,1.0325 0.0614,1.2582 0.3897,1.4086 0.5403,0.2461 0.9914,-0.0479 1.0735,-0.6975 0.1572,-1.2446 1.7232,-1.7232 2.5507,-0.7796 0.1233,0.1367 0.2533,0.3692 0.294,0.506 0.0546,0.1847 0.0682,1.614 0.0546,4.8075 l -0.0275,4.5475 -0.1778,0.6497 c -0.2258,0.8343 -0.5129,1.4636 -0.9847,2.1678 -0.7864,1.1761 -2.1403,2.3729 -3.5082,3.0911 l -0.67,0.3486 h -4.0686 c -4.6228,0 -4.561,0.0068 -5.34069,-0.5264 C 8.14767,32.0392 6.69803,29.7207 4.34553,24.6125 3.29231,22.3146 2.54695,20.8239 2.04767,20.0375 1.61695,19.3467 1.4391,18.9228 1.4391,18.5603 c 0,-1.0121 1.1625,-1.73 2.03785,-1.2582 0.15715,0.0889 1.01215,0.9164 1.96965,1.9011 0.92964,0.9575 1.75714,1.7778 1.8325,1.826 0.24607,0.1436 0.62928,0.1093 0.84107,-0.0753 L 8.3116,20.79 8.34588,13.5478 c 0.04108,-8.02143 0,-7.3925 0.48572,-7.87107 0.43071,-0.42393 1.12107,-0.51964 1.6821,-0.2325 z" />
          </g>
        </g>
        <g id="uiControlsTouch" visibility="hidden">
          <g id="uiBack" class="controls" transform="translate(70 445)">
            <rect x="0" y="0" width="35" height="35" style="fill:transparent;stroke-opacity:0;" />
            <g transform="translate(0 0)">
              <path d="m 32.807,10.4091 c 0,2.0803 -0.4015,4.0329 -1.2044,5.8577 -0.7665,1.7883 -1.8249,3.3576 -3.1752,4.708 -1.3504,1.3504 -2.938,2.427 -4.7628,3.2299 -1.7883,0.7665 -3.7226,1.1497 -5.8029,1.1497 -2.3723,0 -4.5621,-0.4927 -6.5694,-1.4781 C 9.28503,22.8544 7.58791,21.4857 6.20106,19.7704 L 2.80695,23.2193 V 11.8325 H 14.0296 l -4.27011,4.3248 c 0.91241,1.2774 2.08031,2.2992 3.50361,3.0657 1.4234,0.7664 2.9562,1.1496 4.5986,1.1496 1.3503,0 2.6277,-0.2555 3.8321,-0.7664 1.2409,-0.5475 2.2993,-1.2591 3.1752,-2.1351 0.9124,-0.9124 1.6241,-1.9708 2.135,-3.1751 0.5475,-1.2044 0.8212,-2.5 0.8212,-3.8869 z" />
            </g>
          </g>
          <g id="uiA" class="controls" transform="translate(490, 330)">
            <circle r="40" cx="0" cy="0" />
            <path id="uiHighlightA" style="fill-opacity:0;" d="m -13.0412,0.18807 c 0,-3.1656 0.5708,-6.09676 1.7125,-8.79341 1.171,-2.69656 2.75188,-4.82166 4.74259,-6.37516 2.01996,-1.5829 4.20095,-2.3742 6.5429333,-2.3742 2.3419767,0 4.5083267,0.7913 6.4990367,2.3742 1.99066,1.5535 3.57154,3.6786 4.74254,6.37516 1.171,2.69665 1.7564,5.62781 1.7565,8.79341 V 15.7085 c -10e-5,0.5568 -0.2049,1.0259 -0.6148,1.407 -0.3806,0.3516 -0.8343,0.5275 -1.3613,0.5275 -0.5269,0 -0.98068,-0.1759 -1.36129,-0.5275 C 9.23695,16.7344 9.04667,16.2653 9.04667,15.7085 V 3.35371 H -9.13302 V 15.7085 c 0,0.5568 -0.20493,1.0259 -0.61479,1.407 -0.38059,0.3516 -0.84899,0.5275 -1.40519,0.5275 -0.5269,0 -0.9807,-0.1759 -1.3612,-0.5275 -0.3514,-0.3811 -0.527,-0.8502 -0.527,-1.407 z M 6.19238,-9.6605 c -1.72723,-2.5208 -3.80574,-3.7812 -6.2355567,-3.7812 -2.4298133,0 -4.5229733,1.2604 -6.2794633,3.7812 -1.75652,2.49146 -2.69329,5.53981 -2.81038,9.145109 H 9.04667 C 8.90028,-4.12069 7.94887,-7.16904 6.19238,-9.6605 Z" />
          </g>
          <g id="uiB" class="controls" transform="translate(550, 280) scale(0.7)">
            <circle r="40" cx="0" cy="0" />
            <path id="uiHighlightB" style="fill-opacity:0;" d="m -12.9647,-11.761 c 0,-1.7169 0.5423,-3.0934 1.627,-4.1295 1.0847,-1.0361 2.29788,-1.5541 3.63949,-1.5541 h 8.135261 c 2.426309,0.0296 4.495809,0.9472 6.208489,2.753 1.74123,1.7762 2.61185,3.9223 2.61185,6.43855 0,2.63463 -0.89916,4.84002 -2.69748,6.61617 L 5.14694,-0.215958 C 7.23071,0.19848 8.9434,1.26417 10.285,2.98112 c 1.3702,1.68734 2.0552,3.64111 2.0552,5.8613 0,2.51618 -0.842,4.67718 -2.52619,6.48298 -1.68414,1.8057 -3.72509,2.7086 -6.12285,2.7086 h -11.2181 c -1.48433,0 -2.76886,-0.5476 -3.85356,-1.6429 -1.0561,-1.0953 -1.5842,-2.4126 -1.5842,-3.952 z m 5.43776,-1.7317 c -0.42817,0 -0.81353,0.1628 -1.15606,0.4884 -0.314,0.2961 -0.471,0.7253 -0.471,1.2878 v 11.36733 h 9.0772473 L 3.99088,-4.52313 c 0.97052,-1.03609 1.45578,-2.27939 1.45578,-3.72992 0,-1.45052 -0.49953,-2.67905 -1.4986,-3.68555 -0.97052,-1.0361 -2.15513,-1.5541 -3.553825,-1.5541 H 0.222979 c -0.65653,0 -1.641329,0 -2.954389,0 -1.28451,0 -2.39776,0 -3.33973,0 H -7.48411 Z M 3.43425,14.0821 c 1.48433,0 2.71176,-0.5181 3.68228,-1.5542 C 8.08705,11.4919 8.57231,10.2633 8.57231,8.84242 8.57231,7.3919 8.07278,6.16339 7.07372,5.15691 6.10319,4.12082 4.91858,3.60277 3.51989,3.60277 H 3.47709 -9.15398 v 8.79193 c 0,0.4441 0.14272,0.8437 0.42817,1.1989 0.31399,0.3257 0.72789,0.4885 1.2417,0.4885 z" />
          </g>
          <g class="controls" transform="translate(150, 330)">
            <use xlink:href="#arrow" id="uiHighlightDirT" style="fill-opacity:0;" transform="translate(0, -30) rotate(-90)" />
            <use xlink:href="#arrow" id="uiHighlightDirR" style="fill-opacity:0;" transform="translate(30, 0) rotate(0)" />
            <use xlink:href="#arrow" id="uiHighlightDirB" style="fill-opacity:0;" transform="translate(0, 30) rotate(90)" />
            <use xlink:href="#arrow" id="uiHighlightDirL" style="fill-opacity:0;" transform="translate(-30, 0) rotate(180)" />
            <circle r="40" cx="0" cy="0" />
            <circle r="140" cx="0" cy="0" style="fill:none;stroke-opacity:0.1;" />
            <g>
              <use xlink:href="#wedge" id="uiDirR" transform="rotate(0)" />
              <use xlink:href="#wedge" id="uiDirBR" transform="rotate(45)" />
              <use xlink:href="#wedge" id="uiDirB" transform="rotate(90)" />
              <use xlink:href="#wedge" id="uiDirBL" transform="rotate(135)" />
              <use xlink:href="#wedge" id="uiDirL" transform="rotate(180)" />
              <use xlink:href="#wedge" id="uiDirTL" transform="rotate(225)" />
              <use xlink:href="#wedge" id="uiDirT" transform="rotate(270)" />
              <use xlink:href="#wedge" id="uiDirTR" transform="rotate(315)" />
            </g>
          </g>
        </g>
      </svg>
    </div>
    <script type="text/javascript">
      var exports = null;
      var resizeMsg = undefined;
      function onResize() {
        var w = window.innerWidth;
        var h = window.innerHeight;
        const ratio = 4.0 / 3.0;
        if (w < (h * ratio)) {
          h = Math.round(w / ratio);
        } else {
          w = Math.round(h * ratio);
        }
        function applySize(elem) {
          elem.style.left = (window.innerWidth / 2 - w / 2) + "px";
          elem.style.top = (window.innerHeight / 2 - h / 2) + "px";
          elem.style.width = w + "px";
          elem.style.height = h + "px";
          elem.width = w;
          elem.height = h;
        }
        applySize(document.getElementById("screen"));
        applySize(document.getElementById("loading"));
        applySize(document.getElementById("ui"));
        if (resizeMsg) {
          clearTimeout(resizeMsg);
        }
        resizeMsg = setTimeout(() => { console.log("resized to " + w + "x" + h); }, 1000);
        if (exports) {
          exports._resized(w, h);
        }
      }
      onResize();

      function onLoad() {
        document.getElementById("txtLoading").setAttributeNS(null, "visibility", "hidden");
        document.getElementById("txtStart").setAttributeNS(null, "visibility", "visible");
        onProgress(1);
      }

      function onStart() {
        document.getElementById("loading").style.display = "none";
        requestAnimationFrame(loop);
      }

      function onProgress(ratio) {
        const v = Math.min(Math.max(ratio, 0), 1);
        document.getElementById("progress").setAttributeNS(null, "transform", "scale(" + v.toFixed(2) + ",1)");
      }

      // javascript enabled?
      const checks = document.getElementById("checks");
      checks.innerHTML = "";
      {
        // wasm?
        if (!WebAssembly) {
          checks.innerHTML += "WebAssembly not supported :(<br/>";
        }
        // webgl?
        var canvas = document.getElementById("screen");
        var gl = canvas.getContext("webgl");
        if (!gl) {
          checks.innerHTML += "WebGL1 not supported :(<br/>";
        } else {
          var vaoExt = gl.getExtension('OES_vertex_array_object');
          if (!vaoExt) {
            checks.innerHTML += "WebGL extension 'OES_vertex_array_object' not supported :(<br/>";
          }
        }
        // webaudio?
        var AudioContext = window.AudioContext || window.webkitAudioContext;
        if (!AudioContext) {
          checks.innerHTML += "WebAudio not supported, sound disabled :(<br/>";
        }
        // localStorage
        if (!localStorage) {
          checks.innerHTML += "LocalStorage not supported, saves disabled :(<br/>";
        }
      }

      // PWA service worker
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register('./sw.js').then(function(sw) {
          console.log("PWA listener ok");
        });
      }

      document.getElementById("txtLoading").setAttributeNS(null, "visibility", "visible");

      document.getElementById("uiFullscreen").addEventListener("click", function(event) {
        if (document.fullscreenElement) {
          document.exitFullscreen();
        } else {
          document.body.requestFullscreen();
        }
      });
      function toggleSVGElement(element) {
        const currentVisibility = element.getAttributeNS(null, "visibility");
        if (currentVisibility == "hidden") {
          element.setAttributeNS(null, "visibility", "visible");
        } else {
          element.setAttributeNS(null, "visibility", "hidden");
        }
      }
      document.getElementById("uiTouch").addEventListener("click", function(event) {
        toggleSVGElement(document.getElementById("uiControlsTouch"));
        toggleSVGElement(document.getElementById("uiControlsKeyboard"));
      });
    </script>
    <script src="./tt.js"></script>
  </body>
</html>
